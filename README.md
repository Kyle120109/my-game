# 山顶速降对抗赛

3D 可直接游玩的自行车竞速原型（4 张地图 / AI 对手 / 拳击干扰 / 检查点复活）。

## 运行

```bash
npm install
2. `npm run dev` 启动开发服务器（通常是 `http://localhost:5173`）
3. `npm run build` 构建生产版本。
```

## Developer Debug Mode (F4)
在主菜单界面按 **F4** 键可以进入调试平原（Debug Flat）模式：
- 这是一个超平坦的测试地图，路径完全笔直，不会出现AI卡墙或掉落。
- 地图两侧会生成**资产画廊**（Asset Gallery），包含了游戏内所有环境植被、石头、建筑物样本、所有道具箱，以及一辆测试车辆。
- 按 **F2** 可以切换自由视角（检图模式）和普通游玩视角。
- 在游玩模式下，可以使用专属快捷键强制测试游戏功能：
  - **1**：强制击倒自己。
  - **2**：强制击倒最近的AI。
  - **3**：强制挥拳（忽略冷却时间）。
  - **4**：强制使用道具（固定为炸弹，忽略冷却时间）。
  - **5**：角色表现测试（获得氮气加速效果与光效）。
  - **6**：VFX粒子效果测试（原地触发爆炸、受击特效和音效）。
  
## 核心逻辑
- **core.js**: 游戏的主循环与状态机（菜单、准备、竞速、结算等）。

## 操作

- `W` / `S`：加速 / 刹车
- `A` / `D`：转向
- `F`：出拳干扰附近选手
- `R`：主动复位到附近检查点
- `Esc`：返回菜单

## 地图

- `环峰禁区 (ring)`：环形山地压迫赛道。
- `裂脊蛇行 (serpent)`：线性峡谷盘绕路线。
- `城市双环立交 (urban8 / Urban Figure-8 Interchange)`：城市双环立交，直角主导 + 渐进桥面高差。
- `港口巨构 (harbor / Harbor Containerworks)`：外圈码头回路 + 中央走廊穿越 + 维护桥切换。

## 已实现要点

- 独立开始界面 + 关卡选择（4 关）
- 菜单背景实时环绕演示画面
- 5~10 名选手同起跑线 + 5 秒倒计时
- 起伏山地 + 树木/石头/不规则山体 + 起飞斜坡
- AI 导航与橡皮筋压力逻辑（保持前后压迫）
- 出界/坠落/重摔后检查点复活
- 玩家与 AI 均可出拳干扰
