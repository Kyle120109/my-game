# Characters, Bikes, and Animations Overhaul Specification

**定位**：半写实运动竞技（semi-realistic downhill / enduro），结构与力学可信，但在轮廓与动态上略夸张以增强速度与冲击读性。
**优先级**：细节密度（高面数+高频法线） > 动作复杂度与反馈 > 真实材质一致性 > 性能（性能用 LOD 解决，不牺牲主资产精度）。

**色彩区分**：
- 玩家和其他机器人需要采用不同的配色方案系统来区分。
- 配色方案必须合理且符合真实运动竞技环境（如不同的赞助商品牌、车队主题色）。

人物是本次重做的重点，细节刻画要远超游戏平均水平，要用最大幅度的美术去刻画。

---

## 2) 人物（Rider）建模要求：高面数、结构可信、装备细节爆炸

### 2.1 分件策略（强制）
角色必须拆分为模块，避免“一个网格糊到底”：
* **Body base**（身体基础网格：头/躯干/四肢）
* **Helmet**（头盔：外壳/内衬/通风口/螺丝）
* **Goggles**（护目镜：镜片/镜架/泡棉/绑带/卡扣）
* **Armor**（胸背甲/护肘护膝：硬壳+软垫分层）
* **Cloth**（衣裤：外层布料+拼接片+网布透气区）
* **Gloves/Shoes**（手套/鞋：鞋底颗粒/鞋面压纹/扣具）
* **Backpack**（水袋包/腰包：拉链、织带、扣具）
*(好处：动画不容易穿模；材质更真实；后期换装可扩展。)*

### 2.2 拓扑与变形（避免“高面数但一动就崩”）
* **关节环线**：肩、肘、腕、髋、膝、踝必须有足够环线支撑大幅度屈伸与扭转。
* **硬壳护具**：建议独立网格 + 跟随骨骼（或约束），不要直接跟皮肤同网格拉伸。
* **布料**：方案1（纯建模褶皱 + 少量骨骼辅助） 或 方案2（关键褶皱建模 + 叠加法线细节）。

### 2.3 细节密度（“半写实精细”的具体点）
必须建出来（高模阶段）：
* 缝线（可以用几何条/凹槽+烘焙）。
* 布料拼接边与压线。
* 护具分模线、注塑纹理、倒角。
* 扣具、魔术贴层、织带厚度。
* 头盔通风孔、螺丝、内衬结构。
* 手套指节护块、掌心防滑纹（可烘焙）。

### 2.4 材质、贴图（PBR）与烘焙
* **UV策略**：主角与主车多材质拆分（比硬上 UDIM 更适合实时）。脸/手/头盔、车架Logo区域、传动系统优先给更高 texel density。避免长条UV过度拉伸。
* **贴图通道**：BaseColor / Normal(高频) / Roughness / Metallic / AO / Curvature / Detail Normal / Dirt & Sweat Mask。
* **烘焙清单（建议全部做）**：Normal（大形体+高频细节），AO（环境遮蔽），Curvature（边缘磨损/脏污生成关键），Thickness（汗渍/泥水渗透/边缘透光），ID Mask（材质分区与脏污叠加）。
* **材质差异**：布料（微粗糙+纤维感）/硬壳护具（更稳定高光+细纹）/金属扣具（更明确镜面与边缘磨损）/橡胶（高粗糙但边缘磨亮）。

---

## 3) 自行车（Bike）建模要求：机械结构齐全、避震可动、传动可动

### 3.1 必须完整建模的系统（不要只做外壳）
* **定位**：速降/Enduro 取向，强调强度与避震行程。外形真实可信（几何比例、转点位置、前叉结构、后胆位置要合理）。
* **车架**：上下管、后下叉、连杆（linkage）、转点（pivot）与轴承/垫片。必须做出结构语言（碳纤维层纹或焊点/焊缝、加强筋、护链板、下管护板）。
* **避震**：前叉（内管/外管/肩盖/旋钮）、后胆（筒体/弹簧或气室/旋钮/连杆）。必须可动且有行程限制逻辑。
* **传动**：牙盘、曲柄、脚踏、链条、飞轮、后拨、导轮结构完整；链条可用简化链段或贴图+骨骼驱动（但视觉要可信）。
* **制动**：碟刹盘（开孔立体/倒角）、卡钳、油管走线、固定座。
* **轮组**：轮毂、辐条（可真辐条或“辐条卡+法线”混合）、轮圈、胎纹（块状胎钉要“立体”，不能只靠法线糊过去）。

### 3.2 “高面数但可信”的硬表面建模要点
* 所有主要硬边有**真实倒角**（不接受刀片边）。
* 圆管/圆弧必须有足够分段（否则半写实一眼假）。
* 关键螺丝、轴心、垫片、转点必须立体建模（至少关键位置）。
* 贴花/编号/赞助贴纸不是一张糊图：要么有边缘层级，要么有清晰的材质分层。

### 3.3 可动结构拆分（为动画/物理服务）
最少拆这些独立件，以支持转向、避震压缩、轮转、踏频、变速/链条运动的“机械一致性”：
* 车把、前叉、前轮、后轮、曲柄&踏板、链条（或链条段）、后拨、后胆&连杆。

### 3.4 动态脏污层（提升“半写实”）
* 做 Dirt/Mud/Sweat Mask：
  * 轮胎甩泥方向性。
  * 车架下管、后下叉、鞋面、护膝泥点聚集。
  * 镜片水渍/尘点（可随速度或环境叠加）。
* 避震表现：压缩时有“油封区域高光变化/少量泥线”。

---

## 4) Rig（绑定）全套：人车一体，支持复杂动作与程序化修正

### 4.1 人物骨骼与控制器
* 标准全身骨骼 + 手指（至少基础抓握变形）+ 颈部/头部独立控制。
* **动作幅度要求**：大幅扭腰、腾空扭转、落地深蹲缓冲、单手扶把等不会穿模或塌陷。
* **IK/FK**：手臂与腿必须可 IK/FK 切换；脚部支持踏板锁定（脚与踏板绑定/约束可切换）。

### 4.2 自行车 Rig
* 车把转向、前叉压缩、后胆连杆、轮子旋转、脚踏旋转、曲柄旋转必须可控。
* **约束逻辑**：手→把套（握点锁定），脚→踏板（锁定/解锁），臀部→座垫（坐姿时软约束）。
* **悬挂限制**：前后避震有最大/最小行程，落地瞬间压缩、回弹带阻尼感。

### 4.3 程序化层（动画系统需求）
* **地形自适应**：根据坡度/转弯半径/速度自动调整上身前倾与肘膝弯曲（可做成 additive 层）。
* **手把微修正**：高速时把控微抖与纠正（小幅高频动作，增加真实控制感）。
* **头部视线**：look-at 前方路线点（可随机扫视检查弯心/落点）。
* **轮胎接地反馈**：路面颠簸→悬挂+上身吸收的联动必须成立。

---

## 5) 动作（Animation）全套：复杂、细分状态、多层混合

**系统说明：** 采用状态机 + 混合树（Blend Tree）+ 叠加层（Additive Layers）。特技使用可打断/可组合的蒙太奇（Montage）系统。

### 5.1 基础循环（Locomotion Core）
1. **Idle Balance（静止平衡）**：微摆车把、呼吸、脚踏轻微调整
2. **Start Push / Roll-in（起步）**：从静止到滚动的重心前移
3. **Pedal Cycle – 3 Cadence（踩踏三档）**：慢/中/快；踏频随速度曲线驱动但有上限
4. **Coast（滑行）**：停止踩踏，膝肘松弛、风阻姿态变化
5. **Sprint Standing（站踩冲刺）**：髋部上下发力，车身左右轻摆
6. **Brake Light / Brake Hard（轻刹/重刹）**：身体后移、手臂伸展、前叉下压明显
7. **Turn Lean L/M/H（转向倾斜三档）**：轻倾/中倾/极限压弯，头与肩先入弯
8. **Counter-steer Micro（高速微反打）**：短促纠正动作（可做 additive）

### 5.2 地形与冲击（Terrain / Impact）
9. **Pump（泵压过起伏）**：压地提速，髋与肘膝节奏明确
10. **Rock Garden Absorb（乱石吸收）**：上身稳定、下肢高频吸震
11. **Drop Off（落差下坠）**：起落差前的预压→空中姿态→落地深缓冲
12. **Landing Soft / Landing Hard（软落/硬落）**：两套，硬落带明显避震极限与身体晃动
13. **Rear Slip Recovery（后轮打滑纠正）**：车尾摆动→视线锁定→重心修正回正

### 5.3 腾空与特技（Air / Trick）
**基础空中控制（必做）**
14. **Jump Takeoff（起跳）**：前叉预压/回弹的关键姿态
15. **Air Neutral（空中中立）**：车身稳定、膝肘微调
16. **Air Pitch Adjust（俯仰调节）**：抬头/压头修正落点
17. **Air Roll Adjust（横滚调节）**：空中修正左右倾斜
18. **Pre-Land Prepare（落地准备）**：伸腿/收腿，重心对准落点

**炫技包（选择做多套，满足“动作复杂”）**
19. **Whip（甩尾）**：车尾横甩，回正要有“反向回弹”
20. **Tabletop（压台）**：整车侧压，身体对抗扭矩
21. **No-hander（短暂松把）**：风险高但视觉强（需取消回握）
22. **One-footer / One-leg-out（单脚外摆）**：需要脚踏锁定切换逻辑
23. **360（转体一圈）**：需要空中轴心明确、落地对齐
24. **Backflip（后空翻）**：更极限，需单独调教起跳角与落地时机
25. **Combo Trick（组合）**：如 whip + tabletop、或 360 + 微俯仰修正

### 5.4 过弯与漂移（Corner / Drift）
26. **Berm Ride（压弯墙）**：车身压弯、轮胎贴墙、身体对抗离心
27. **Flat Drift（平地漂移）**：后轮外甩+刹车控制，尘土/泥点配合
28. **Drift Exit Boost（漂移出弯加速）**：回正瞬间衔接冲刺站踩

### 5.5 失败/摔车/恢复（Crash System）
29. **Clip / Stumble（擦碰险摔）**：不直接倒地，先失衡再纠正
30. **OTB Front Flip Crash（前翻）**：刹车过猛或撞击触发
31. **Low-side Slide（侧滑摔）**：车先倒、人后滑
32. **High-side Eject（高抛）**：后轮抓地瞬间弹飞（极具冲击感）
33. **Recovery Quick（快速恢复）**：短动画回到可控
34. **Recovery Heavy（重摔恢复）**：更慢但更真实，可用于惩罚或低血量状态
35. **Ragdoll Blend（动画→布娃娃过渡）**：关键帧摔倒接入物理，落地后可再 blend 回恢复动画

---

## 6) LOD (Level of Detail)

* **LOD0**：近景主模型（你追求的“高面数”主要在这里）
* **LOD1**：中景（保留轮廓，砍内部小件）
* **LOD2**：远景（合并小件、简化辐条/链条、降低分段）。远距离可以把螺丝/链条细节/胎钉深度逐步转成贴图信息。

---

## 7) 交付与验收标准

**交付物**
* 高模（展示/烘焙用）+ 高面数游戏主角模型 + 至少 2 级 LOD。
* 全套拆分模块与材质（UDIM或多材质分布图）。
* 全套 PBR 材质与脏污叠加遮罩。
* 人车一体 Rig（含 IK/FK、手脚锁定、悬挂行程限制、踏板/车把驱动）。
* 动画库（上面清单全部）+ 状态机/混合树配置说明。
* 摔车系统（至少 3 类摔法 + ragdoll 过渡）。

**验收要点**
* 任何大幅动作关节不塌陷、不明显穿模。
* 落地冲击：车的避震压缩与人的吸收动作必须一致。
* 特技动作：起跳—空中—落地三段清晰，支持空中微调与落地对齐。
* 高面数观感：曲面圆润、倒角真实、机械件立体，不出现“低模味”。
