:root{--bg: #0a1119;--panel: rgba(8, 14, 20, .8);--panel-border: rgba(255, 255, 255, .2);--hot: #ff6a1a;--hot-2: #f5c23a;--ice: #67f0df;--text: #f3f5f7;--muted: rgba(243, 245, 247, .72);--good: #6ef0b6;--warn: #f8d46a}*{box-sizing:border-box}html,body,#app{width:100%;height:100%;margin:0;overflow:hidden;background:radial-gradient(circle at 12% 0%,#27456b 0%,rgba(39,69,107,.2) 36%,transparent 58%),radial-gradient(circle at 84% 10%,rgba(255,106,26,.2) 0%,transparent 36%),radial-gradient(circle at 50% 88%,rgba(103,240,223,.12) 0%,transparent 42%),var(--bg);color:var(--text);font-family:Noto Sans SC,sans-serif}canvas{display:block;transition:filter .18s linear}.overlay{position:fixed;inset:0;pointer-events:none;z-index:20}.visible{opacity:1;transition:opacity .35s ease}.hidden{opacity:0;transition:opacity .35s ease}.overlay.hidden{pointer-events:none}.overlay.hidden *{pointer-events:none!important}#menu-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:16px;pointer-events:auto}.menu-panel{width:min(920px,100%);padding:clamp(18px,3vw,28px);border-radius:20px;border:1px solid var(--panel-border);background:linear-gradient(160deg,rgba(255,106,26,.22),transparent 45%),linear-gradient(225deg,rgba(103,240,223,.18),transparent 44%),var(--panel);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 20px 70px #00000080;position:relative;z-index:2;margin-top:clamp(44px,7vh,92px)}.menu-hero-title{position:absolute;top:clamp(24px,6vh,126px);left:50%;width:min(1120px,95vw);transform:translate(-50%);z-index:4;pointer-events:none;-webkit-user-select:none;user-select:none}.blast-title-core{position:relative;display:inline-flex;flex-wrap:wrap;align-items:flex-end;justify-content:center;gap:clamp(1px,.24vw,5px);row-gap:clamp(1px,.5vw,7px);line-height:1;padding:clamp(2px,1vw,10px) clamp(8px,2vw,20px);text-align:center}.blast-word{display:inline-flex;flex-wrap:nowrap;white-space:nowrap}.blast-title-core:before,.blast-title-core:after{content:"";position:absolute;inset:-10px;border-radius:999px;pointer-events:none}.blast-title-core:before{background:radial-gradient(ellipse at center,#ff852a47,#ff852a00 70%),conic-gradient(from 65deg,#ff65513d,#ffe87733,#6dffe538,#81a1ff2e,#ff65513d);filter:blur(18px);opacity:.26;transform:scale(.9)}.blast-title-core:after{border:2px solid rgba(255,226,160,0);box-shadow:0 0 #ffe2a000;opacity:0;transform:scale(.64)}.blast-letter{--delay: 0s;--blast-x: 0px;--blast-y: 0px;--blast-rot: 0deg;position:relative;display:inline-block;min-width:.54em;font-family:Orbitron,Antonio,sans-serif;font-size:clamp(36px,7.5vw,96px);font-weight:900;letter-spacing:.045em;line-height:.92;transform-origin:50% 72%;background:linear-gradient(124deg,#ff6b3d 4%,#ffdc70 26%,#6fffe3 46%,#82a6ff 64%,#ff63dc 84%,#ff6b3d);background-size:260% 100%;-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 0 11px rgba(255,160,97,.68),0 0 20px rgba(109,255,229,.45),0 0 34px rgba(255,105,214,.36);filter:saturate(1.18) brightness(1.08);opacity:.96;transform:translateY(0) scale(1);animation:blast-idle-shimmer 3.6s linear infinite;animation-delay:calc(var(--delay) * -1.2)}.menu-hero-title.is-blasting .blast-letter{animation:blast-letter-bomb .9s cubic-bezier(.18,.97,.19,1) var(--delay) both,blast-idle-shimmer 2.4s linear calc(var(--delay) + .56s) infinite}.blast-gap{width:clamp(10px,1.8vw,24px)}.blast-spark{--spark-size: 7px;--spark-x: 0px;--spark-y: 0px;--spark-delay: 0s;--spark-hue: 30deg;position:absolute;left:50%;top:50%;width:var(--spark-size);height:var(--spark-size);border-radius:999px;pointer-events:none;background:radial-gradient(circle,#fff,hsl(var(--spark-hue) 97% 68%) 45%,#fff0 74%);box-shadow:0 0 14px #ffffffc2;opacity:0;transform:translate(-50%,-50%) scale(.26);mix-blend-mode:screen}.menu-hero-title.is-blasting .blast-spark{animation:blast-spark-burst .82s cubic-bezier(.21,.88,.24,1) var(--spark-delay) both}.menu-hero-title.is-blasting .blast-title-core:before{animation:blast-core-flash .82s ease-out both}.menu-hero-title.is-blasting .blast-title-core:after{animation:blast-shockwave .72s ease-out .11s both}@keyframes blast-letter-bomb{0%{opacity:0;transform:translate(var(--blast-x),var(--blast-y)) scale(2.3) rotate(var(--blast-rot));filter:saturate(1.7) blur(7px) brightness(2.4)}38%{opacity:1;transform:translate(calc(var(--blast-x) * -.07),calc(var(--blast-y) * -.07)) scale(1.22) rotate(calc(var(--blast-rot) * -.15));filter:saturate(1.5) blur(.2px) brightness(1.5)}64%{transform:translate(0) scale(.92) rotate(0);filter:saturate(1.2) blur(0) brightness(1.12)}to{opacity:1;transform:translate(0) scale(1) rotate(0);filter:saturate(1.28) blur(0) brightness(1.15)}}@keyframes blast-idle-shimmer{0%{background-position:0% 50%;text-shadow:0 0 10px rgba(255,143,67,.62),0 0 18px rgba(103,240,223,.4),0 0 28px rgba(255,99,220,.3)}50%{background-position:100% 50%;text-shadow:0 0 12px rgba(255,205,114,.7),0 0 24px rgba(103,240,223,.5),0 0 34px rgba(122,162,255,.44)}to{background-position:200% 50%;text-shadow:0 0 10px rgba(255,143,67,.62),0 0 18px rgba(103,240,223,.4),0 0 28px rgba(255,99,220,.3)}}@keyframes blast-spark-burst{0%{opacity:0;transform:translate(-50%,-50%) scale(.16)}22%{opacity:1}to{opacity:0;transform:translate(calc(-50% + var(--spark-x)),calc(-50% + var(--spark-y))) scale(1.42)}}@keyframes blast-core-flash{0%{opacity:.22;transform:scale(.72)}30%{opacity:.85;transform:scale(1.08)}to{opacity:.26;transform:scale(.96)}}@keyframes blast-shockwave{0%{opacity:.75;border-color:#ffeaa8bd;box-shadow:0 0 #ffeaa8b3;transform:scale(.54)}to{opacity:0;border-color:#ffeaa800;box-shadow:0 0 0 16px #ffeaa800;transform:scale(1.18)}}.title-wrap h1{margin:0;font-family:Antonio,sans-serif;letter-spacing:.08em;font-size:clamp(34px,7vw,58px);line-height:1}.kicker{margin:0 0 10px;color:var(--ice);font-family:Antonio,sans-serif;letter-spacing:.16em;font-size:clamp(12px,2vw,18px);text-transform:uppercase}.desc{margin:12px 0 0;color:var(--muted)}.level-grid{margin-top:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.level-card{pointer-events:auto;border:1px solid rgba(255,255,255,.22);border-radius:14px;background:#06090ead;padding:12px;cursor:pointer;text-align:left;transition:transform .18s ease,border-color .18s ease,background .18s ease}.level-card:hover{transform:translateY(-2px);border-color:#ffffff80}.level-card.selected{border-color:var(--hot-2);background:#f0b42924}.level-name{margin:0;font-weight:700;font-size:18px}.level-meta{margin:6px 0 0;color:var(--muted);font-size:13px}.menu-actions{margin-top:18px;display:flex;align-items:center;gap:10px}.primary-btn,.ghost-btn{pointer-events:auto;cursor:pointer;border-radius:999px;padding:10px 18px;font-weight:700;letter-spacing:.04em;transition:transform .16s ease,opacity .16s ease}.primary-btn{border:0;background:linear-gradient(90deg,var(--hot),var(--hot-2));color:#121212}.ghost-btn{border:1px solid rgba(255,255,255,.28);background:#00000040;color:var(--text)}.primary-btn:hover,.ghost-btn:hover{transform:translateY(-1px)}.hint{margin-top:12px;color:var(--muted);font-size:13px}.settings-panel{margin-top:14px;border:1px solid rgba(255,255,255,.2);border-radius:12px;background:#05080c8a;padding:12px}.settings-panel.hidden{display:none}.settings-panel h3{margin:0 0 10px;font-size:16px}.setting-row{display:grid;grid-template-columns:112px 1fr auto;gap:10px;align-items:center;margin-bottom:8px}.setting-row label{font-size:13px;color:var(--muted)}.setting-row input[type=range]{width:100%}.setting-row select,.setting-row input[type=checkbox]{justify-self:start}.settings-hint{margin-bottom:0}#hud{pointer-events:none;padding:12px}.hud-top{display:flex;flex-wrap:wrap;gap:8px}.hud-minimap{position:absolute;right:18px;bottom:18px;width:220px;height:220px;border-radius:16px;border:1px solid rgba(255,255,255,.26);background:#05090e80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 16px 30px #00000073;overflow:hidden;pointer-events:none}#minimap-canvas{width:100%;height:100%;display:block}.chip,.result-chip{background:#06090ea8;border:1px solid rgba(255,255,255,.2);border-radius:999px;padding:8px 12px;font-size:13px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.countdown{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-family:Antonio,sans-serif;font-size:clamp(72px,18vw,196px);letter-spacing:.06em;text-shadow:0 0 32px rgba(255,106,26,.5);color:#fff4d4}.race-message{position:absolute;left:50%;top:calc(50% + 110px);transform:translate(-50%);font-size:clamp(18px,2.4vw,28px);font-weight:900;letter-spacing:.06em;color:#fff;text-shadow:0 0 26px rgba(0,0,0,.5);text-align:center}#pause-screen{display:flex;align-items:center;justify-content:center;padding:16px}#pause-screen.visible{pointer-events:auto}.pause-panel{width:min(720px,100%);border-radius:20px;border:1px solid rgba(255,255,255,.22);background:linear-gradient(160deg,rgba(255,106,26,.18),transparent 48%),linear-gradient(220deg,rgba(103,240,223,.16),transparent 50%),#080d12e0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:20px;box-shadow:0 20px 70px #00000085}.pause-panel h2{margin:0;font-family:Antonio,sans-serif;letter-spacing:.06em;font-size:36px}.pause-panel .settings-panel{margin-top:14px}#result-screen{display:flex;align-items:center;justify-content:center;padding:16px;pointer-events:none}#result-screen.visible{pointer-events:auto}.result-panel{width:min(760px,100%);border-radius:20px;border:1px solid rgba(255,255,255,.22);background:linear-gradient(160deg,rgba(255,106,26,.2),transparent 50%),linear-gradient(220deg,rgba(103,240,223,.14),transparent 48%),#080d12db;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:20px;box-shadow:0 20px 70px #0000008c}.result-panel h2{margin:0;font-family:Antonio,sans-serif;letter-spacing:.06em;font-size:38px}.result-summary{margin:8px 0 14px;color:var(--muted)}.result-grid{display:flex;flex-wrap:wrap;gap:8px}.result-list{margin-top:14px;border-top:1px solid rgba(255,255,255,.16)}.result-row{display:grid;grid-template-columns:50px 1fr auto;gap:8px;align-items:center;padding:10px 2px;border-bottom:1px solid rgba(255,255,255,.12)}.result-row .pos{color:var(--warn);font-weight:700}.result-row .name{font-weight:600}.result-row .time{color:var(--muted)}@media(max-width:880px){.menu-panel,.result-panel,.pause-panel{padding:16px}.menu-panel{margin-top:clamp(34px,6vh,68px)}.menu-hero-title{top:clamp(18px,4.6vh,64px)}.blast-letter{font-size:clamp(30px,8.6vw,70px)}.setting-row{grid-template-columns:96px 1fr auto}.chip,.result-chip{font-size:12px}.race-message{top:calc(50% + 80px)}.hud-minimap{width:180px;height:180px;right:12px;bottom:12px}}@media(max-width:620px){.menu-panel{margin-top:28px}.menu-hero-title{top:10px}.blast-title-core{gap:1px}.blast-letter{font-size:clamp(24px,9.4vw,44px);letter-spacing:.03em}.setting-row{grid-template-columns:1fr;gap:4px;margin-bottom:10px}.hud-minimap{width:150px;height:150px}}
